<!doctype html>
<html>

<head>
  <title>v-grid Code Examples – Formatting data</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="../demo.css">
  <script src="../../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="common.html">
</head>

<body>
  <section>
    <h1><a href="./">v-grid</a>
      <span>Formatting Data</span>
    </h1>
    <table-of-contents select="h3" class="toc"></table-of-contents>
  </section>

  <section>
    <h3>Inline Formatted Data</h3>
    <p>Any regular HTML can be placed inside the grid cells with the DOM api.</p>
    <code-example>
      <v-grid demo>
        <table>
          <colgroup>
            <col header-text="Name">
            <col header-text="Value">
            <col header-text="Progress">
          </colgroup>
          <tbody>
            <tr>
              <td>Project A</td>
              <td>10 000€</td>
              <td><progress value="0.8" /></td>
            </tr>
            <tr>
              <td>Project B</td>
              <td>982 999€</td>
              <td><progress value="0.2" /></td>
            </tr>
          </tbody>
        </table>
      </v-grid>
    </code-example>
  </section>

  <section>
    <h3>Defining Data Renderers</h3>
    <p>Column data can be presented in any format using a renderer function.</p>
    <code-example>
      <v-grid demo>
        <table>
          <colgroup>
            <col header-text="Name">
            <col header-text="Value">
            <col header-text="Progress">
          </colgroup>
          <tbody>
            <tr>
              <td>Project A</td><td>10 000</td><td>0.8</td>
            </tr>
            <tr>
              <td>Project B</td><td>982 999</td><td>0.2</td>
            </tr>
          </tbody>
        </table>
      </v-grid>
      <code demo-var="grid">
        var currencyRenderer = function(cell) {
          cell.element.innerHTML = '$' + cell.data;
        };

        var progressRenderer = function(cell) {
          cell.element.innerHTML = '';
          var child = document.createElement('progress');
          child.setAttribute('value', cell.data);
          cell.element.appendChild(child);
        };
        grid.columns[1].renderer = currencyRenderer;
        grid.columns[2].renderer = progressRenderer;
      </code>
    </code-example>
  </section>

  <section>
    <h3>Generated columns</h3>
    <p>ValueGenerator functions may be assigned to columns to occupy their cells with custom values
    instead of the ones defined by the datasource directly. This also allows creating additional
    columns with any generated content data.</p>
    <code-example>
      <v-grid demo hidden>
        <table>
          <colgroup>
            <col header-text="Name">
            <col header-text="Activity">
            <col header-text="Progress">
          </colgroup>
        </table>
      </v-grid>
      <code demo-var="grid" hidden>
        grid.data.source = myBigData;
      </code>
      <code demo-var="grid">
        grid.columns[1].valueGenerator = function(data) {
          return data[2] + " the " + data[3];
        };
        grid.columns[2].valueGenerator = function(data) {
          // Because we're generating random numbers here,
          // the value changes every time it's scrolled out of viewport.
          return Math.random(1).toFixed(2);
        };
      </code>

    </code-example>
  </section>
</body>

</html>
